<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>山林探險：任務抽籤器</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 設定字體為 Inter (常用現代字體) */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f7f7; /* 輕微的背景色 */
        }
        /* 針對任務卡的動畫效果 */
        .task-card {
            transition: all 0.5s ease-in-out;
            transform: scale(1);
        }
        .task-card.drawing {
            animation: pulse 0.5s infinite alternate;
        }
        @keyframes pulse {
            from { transform: scale(1); opacity: 1; }
            to { transform: scale(1.02); opacity: 0.8; }
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4 bg-gray-50">

    <div class="w-full max-w-2xl bg-white shadow-2xl rounded-xl p-6 md:p-10 border border-gray-100">

        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-extrabold text-green-700">
                山林探險：別被抓包
            </h1>
            <p class="text-gray-500 mt-2 text-lg">任務抽籤器 (120 項任務池)</p>
        </header>

        <div id="taskDisplay" class="task-card bg-white p-6 rounded-lg shadow-xl border-t-4 border-green-500 mb-8 min-h-[180px] flex flex-col justify-center text-center">
            <p id="initialPrompt" class="text-gray-400 text-xl font-medium">
                點擊下方按鈕，開始抽取你的第一個潛伏任務！
            </p>
            <div id="taskContent" class="hidden">
                <p class="text-xs font-semibold uppercase text-green-500 mb-1" id="taskCategory"></p>
                <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-3" id="taskID"></h2>
                <p class="text-base md:text-xl text-gray-700 leading-relaxed" id="taskMission"></p>
                <div class="mt-4 text-sm text-gray-500 flex justify-center space-x-4">
                    <span id="taskDifficulty" class="font-medium bg-gray-100 px-3 py-1 rounded-full"></span>
                </div>
            </div>
        </div>

        <button id="drawButton" class="w-full py-3 md:py-4 bg-green-600 text-white font-bold text-lg rounded-xl shadow-lg hover:bg-green-700 transition duration-150 ease-in-out transform hover:scale-[1.01] focus:outline-none focus:ring-4 focus:ring-green-300">
            抽取任務卡
        </button>

        <footer class="mt-8 text-center text-sm text-gray-400">
            請注意：此為遊戲任務，請確保安全與尊重他人隱私。
        </footer>
    </div>

    <script>
        // === 任務資料庫 (共 120 項) ===
        const tasks = [
            // 類別一：營地與生活 (Camp & Living)
            { id: 'CL1', category: '營地與生活', difficulty: '中', content: '秘密地移動營地內<strong>任意三件</strong>屬於不同人的物品，但讓它們看起來像<strong>不小心</strong>被踢開的。' },
            { id: 'CL2', category: '營地與生活', difficulty: '中', content: '說服一個玩家相信你的<strong>睡袋/露宿袋</strong>裡藏了一個<strong>非睡眠</strong>用途的物品。（例如：帶了一本書或烤肉架）。' },
            { id: 'CL3', category: '營地與生活', difficulty: '中', content: '讓一個玩家在 <strong>5 分鐘</strong>內至少兩次<strong>提到</strong>或<strong>評論</strong>你身上穿的<strong>某件</strong>衣物。' },
            { id: 'CL4', category: '營地與生活', difficulty: '高', content: '秘密地在對話中插入一個<strong>你自創的露營術語</strong>，並讓至少兩個人假裝明白它的意思。（例如：「爐火需要一點 <strong>光合作用</strong> 了！」）' },
            { id: 'CL5', category: '營地與生活', difficulty: '中', content: '在<strong>連續的對話</strong>中，<strong>三次</strong>提到你<strong>今天</strong>沒有帶的一個重要物品。（例如：「早知道帶我的<strong>頭燈</strong>了...」、「<strong>頭燈</strong>真好用...」、「啊，還是<strong>頭燈</strong>重要...」）' },
            { id: 'CL6', category: '營地與生活', difficulty: '中', content: '讓一位玩家（非隊友）<strong>自願</strong>替你<strong>拍照</strong>，而這張照片必須包含<strong>他自己</strong>。' },
            { id: 'CL7', category: '營地與生活', difficulty: '中', content: '秘密地在<strong>不使用手機</strong>的情況下，告訴一個玩家<strong>一個假裝是「小知識」</strong>的資訊。（例如：某種樹葉可以吃或某條小徑是捷徑）。' },
            { id: 'CL8', category: '營地與生活', difficulty: '高', content: '成功地<strong>偷走</strong>或<strong>暫時藏匿</strong>一位玩家的<strong>非貴重</strong>物品，並在<strong>沒有人發現</strong>的情況下歸還。' },
            { id: 'CL9', category: '營地與生活', difficulty: '中', content: '在沒有人提問的情況下，主動向一位玩家<strong>分享</strong>你的一段<strong>過去的登山失敗經驗</strong>。' },
            { id: 'CL10', category: '營地與生活', difficulty: '高', content: '讓一個玩家<strong>模仿</strong>一個<strong>動物的聲音</strong>，而他卻不覺得你在故意引導。' },
            { id: 'CL11', category: '營地與生活', difficulty: '中', content: '讓一位玩家在<strong>對話</strong>中，提到<strong>任何一個</strong>電信公司的名稱。（例如：中華電信、遠傳、T-Mobile）。' },
            { id: 'CL12', category: '營地與生活', difficulty: '中', content: '在<strong>5分鐘內</strong>，連續兩次<strong>在不同場合</strong>對同一位玩家說「<strong>你辛苦了！</strong>」。' },
            { id: 'CL13', category: '營地與生活', difficulty: '高', content: '讓至少<strong>三位</strong>不同的玩家在<strong>一小時</strong>內對你<strong>說「謝謝」</strong>。' },
            { id: 'CL14', category: '營地與生活', difficulty: '中', content: '秘密地在對話中<strong>重複</strong>使用一個<strong>口頭禪</strong>（非髒話），直到有人<strong>詢問</strong>你為何一直說這個詞，但你不能說出這是任務。' },
            { id: 'CL15', category: '營地與生活', difficulty: '中', content: '讓一位玩家<strong>主動</strong>問你<strong>「你還好嗎？」</strong>或<strong>「你沒事吧？」</strong>。' },

            // 類別二：食物與飲品 (Food & Drink)
            { id: 'FD1', category: '食物與飲品', difficulty: '中', content: '成功讓一位玩家相信你<strong>自己帶來的</strong>食物是<strong>有機</strong>的、<strong>素食</strong>的或<strong>自製</strong>的。' },
            { id: 'FD2', category: '食物與飲品', difficulty: '高', content: '在<strong>不使用工具</strong>的情況下，讓一位玩家相信你<strong>徒手</strong>切好了某樣食材。' },
            { id: 'FD3', category: '食物與飲品', difficulty: '中', content: '讓一個玩家在吃飯時<strong>主動</strong>把他的<strong>某樣食物</strong>分給你。' },
            { id: 'FD4', category: '食物與飲品', difficulty: '中', content: '秘密地將<strong>你包包裡</strong>的一個<strong>非食物</strong>物品，擺在餐桌/野餐墊的<strong>正中央</strong>超過 3 分鐘，且無人詢問。' },
            { id: 'FD5', category: '食物與飲品', difficulty: '高', content: '在<strong>沒有人</strong>注意到你<strong>正在吃東西</strong>的情況下，秘密地吃完一個完整的<strong>小零食</strong>。' },
            { id: 'FD6', category: '食物與飲品', difficulty: '中', content: '讓一位玩家<strong>形容</strong>他正在吃的或喝的一樣東西是<strong>「很高級」</strong>或<strong>「很奢侈」</strong>的。' },
            { id: 'FD7', category: '食物與飲品', difficulty: '中', content: '讓一個玩家在<strong>喝水</strong>時<strong>主動</strong>發出一個<strong>「啊～」</strong>的聲音。（不包含咳嗽或打嗝）。' },
            { id: 'FD8', category: '食物與飲品', difficulty: '中', content: '秘密地將一個<strong>與食物無關</strong>的道具當作<strong>餐具</strong>使用一次，並讓一個玩家目睹。' },
            { id: 'FD9', category: '食物與飲品', difficulty: '中', content: '讓一個玩家在 <strong>5 分鐘內</strong>提到 <strong>3 種</strong>不同的<strong>烹飪方法</strong>。（例如：烤、煮、炸、烘、燉）。' },
            { id: 'FD10', category: '食物與飲品', difficulty: '高', content: '找到一個<strong>野外可食用的植物</strong>（例如：某種蕨類、菇類或果實），並在<strong>不食用</strong>的情況下，讓至少兩個人<strong>仔細端詳</strong>它。' },
            { id: 'FD11', category: '食物與飲品', difficulty: '中', content: '在<strong>不使用</strong>「喜歡」或「不喜歡」的情況下，讓一位玩家評論一個食物是<strong>「不好吃」</strong>的。' },
            { id: 'FD12', category: '食物與飲品', difficulty: '中', content: '讓一位玩家<strong>主動</strong>詢問<strong>「還有嗎？」</strong>，且詢問的對象是<strong>你</strong>。' },
            { id: 'FD13', category: '食物與飲品', difficulty: '中', content: '讓一個玩家說出<strong>「我飽了」</strong>，但你必須假裝<strong>沒有聽到</strong>。' },
            { id: 'FD14', category: '食物與飲品', difficulty: '中', content: '成功讓一位玩家<strong>連續喝</strong>三口水或飲料，且不詢問原因。' },
            { id: 'FD15', category: '食物與飲品', difficulty: '中', content: '在<strong>不提議交換</strong>的情況下，讓一位玩家說出他<strong>最想吃/喝</strong>的<strong>下一餐/飲品</strong>。' },

            // 類別三：裝備與物品 (Gear & Stuff)
            { id: 'GS1', category: '裝備與物品', difficulty: '中', content: '讓一位玩家<strong>主動</strong>使用<strong>你</strong>的頭燈，即使是在<strong>白天</strong>。' },
            { id: 'GS2', category: '裝備與物品', difficulty: '高', content: '讓一位玩家在<strong>對話</strong>中提到<strong>你事先指定</strong>的一個<strong>顏色</strong>，且你不能先提到該顏色。' },
            { id: 'GS3', category: '裝備與物品', difficulty: '中', content: '讓一個玩家<strong>主動</strong>對你的<strong>登山杖/背包/帳篷</strong>發出一個<strong>讚美</strong>。' },
            { id: 'GS4', category: '裝備與物品', difficulty: '中', content: '秘密地向一位玩家<strong>詢問</strong>他<strong>最不喜歡</strong>的一個裝備，且你必須裝作<strong>很想買</strong>那個東西。' },
            { id: 'GS5', category: '裝備與物品', difficulty: '中', content: '讓一位玩家將一個<strong>「長條形」</strong>的物品（例如：牙刷、火柴、筆）<strong>拿在手上</strong>超過 <strong>30 秒</strong>。' },
            { id: 'GS6', category: '裝備與物品', difficulty: '中', content: '秘密地將一個<strong>你用來計時的物品</strong>（例如：手錶、手機、碼錶）<strong>展示</strong>給一個玩家看，且對方必須<strong>看了一眼</strong>。' },
            { id: 'GS7', category: '裝備與物品', difficulty: '中', content: '讓一個玩家<strong>主動</strong>借用你的<strong>防曬用品/護膚品</strong>。' },
            { id: 'GS8', category: '裝備與物品', difficulty: '高', content: '秘密地將<strong>兩個</strong>不同玩家的<strong>帽子</strong>或<strong>手套</strong>放在一起，讓他們<strong>不經意</strong>地發現。' },
            { id: 'GS9', category: '裝備與物品', difficulty: '中', content: '讓一位玩家<strong>主動</strong>詢問你的<strong>帳篷品牌或型號</strong>。' },
            { id: 'GS10', category: '裝備與物品', difficulty: '中', content: '讓一個玩家<strong>主動</strong>提到<strong>一個數字</strong>，且這個數字必須<strong>大於 100</strong>（例如：高度、價格、公克數）。' },
            { id: 'GS11', category: '裝備與物品', difficulty: '高', content: '成功地說服一位玩家相信你的<strong>某件裝備</strong>已經<strong>有超過 10 年的歷史</strong>。' },
            { id: 'GS12', category: '裝備與物品', difficulty: '中', content: '讓一個玩家<strong>主動</strong>給你一個<strong>實用的小物品</strong>（例如：紙巾、小刀、備用電池）。' },
            { id: 'GS13', category: '裝備與物品', difficulty: '中', content: '秘密地在<strong>不使用水</strong>的情況下，讓一個玩家覺得你的<strong>手或臉</strong>很髒。' },
            { id: 'GS14', category: '裝備與物品', difficulty: '中', content: '讓一位玩家<strong>主動</strong>向你<strong>借用</strong>手機拍照。' },
            { id: 'GS15', category: '裝備與物品', difficulty: '中', content: '讓一位玩家<strong>描述</strong>他<strong>最害怕</strong>在露營時<strong>弄丟</strong>的東西。' },

            // 類別四：自然與環境 (Nature & Environment)
            { id: 'NE1', category: '自然與環境', difficulty: '高', content: '讓一位玩家在<strong>對話</strong>中提到<strong>你事先指定</strong>的<strong>一個植物名稱</strong>。（例如：松樹、蕨類、杜鵑）。' },
            { id: 'NE2', category: '自然與環境', difficulty: '中', content: '讓一個玩家<strong>指著</strong>或<strong>看著</strong>天空<strong>超過 10 秒</strong>，且他必須是<strong>自願</strong>的。' },
            { id: 'NE3', category: '自然與環境', difficulty: '中', content: '秘密地<strong>撿起</strong>一個你<strong>認為是垃圾</strong>但<strong>不是垃圾</strong>的小東西，並讓至少一位玩家看見。' },
            { id: 'NE4', category: '自然與環境', difficulty: '中', content: '在<strong>5 分鐘</strong>內，對<strong>三個不同</strong>的玩家說出<strong>不同</strong>的<strong>天氣形容詞</strong>。（例如：對 A 說「好濕」、對 B 說「好乾」、對 C 說「好悶」）。' },
            { id: 'NE5', category: '自然與環境', difficulty: '中', content: '讓一位玩家提到<strong>「月亮」</strong>或<strong>「星星」</strong>，即使是白天。' },
            { id: 'NE6', category: '自然與環境', difficulty: '中', content: '讓一個玩家<strong>主動</strong>詢問<strong>「這是什麼？」</strong>，而詢問的對象是<strong>地面</strong>上的東西。' },
            { id: 'NE7', category: '自然與環境', difficulty: '中', content: '讓一個玩家<strong>主動</strong>發出<strong>「噓」</strong>的聲音，且他不是在制止別人。' },
            { id: 'NE8', category: '自然與環境', difficulty: '高', content: '秘密地<strong>觸摸</strong>營地或步道旁的<strong>一棵樹</strong>或<strong>一塊大石頭</strong>，並讓一個玩家看見你對它<strong>「輕聲說話」</strong>。' },
            { id: 'NE9', category: '自然與環境', difficulty: '中', content: '讓一個玩家在<strong>對話</strong>中，提到<strong>任何一個</strong>與<strong>水</strong>有關的詞彙。（例如：溪流、湖泊、露水、下雨）。' },
            { id: 'NE10', category: '自然與環境', difficulty: '高', content: '成功地說服一位玩家相信他<strong>聽到了</strong>一種<strong>不存在</strong>的動物叫聲。' },
            { id: 'NE11', category: '自然與環境', difficulty: '中', content: '讓一位玩家<strong>主動</strong>向你<strong>描述</strong>日出或日落的景色。' },
            { id: 'NE12', category: '自然與環境', difficulty: '高', content: '在<strong>1 分鐘內</strong>，讓一位玩家連續<strong>兩次</strong>將頭<strong>轉向</strong>你的<strong>右邊</strong>。' },
            { id: 'NE13', category: '自然與環境', difficulty: '中', content: '讓一個玩家<strong>彎下腰</strong>，且他<strong>不是在撿東西</strong>或<strong>綁鞋帶</strong>。' },
            { id: 'NE14', category: '自然與環境', difficulty: '中', content: '讓一位玩家<strong>主動</strong>發出<strong>「哇！」</strong>或<strong>「喔！」</strong>的驚嘆聲，且原因與<strong>自然景物</strong>有關。' },
            { id: 'NE15', category: '自然與環境', difficulty: '中', content: '秘密地<strong>用手</strong>觸摸一個<strong>你認為很燙</strong>的東西，並讓一個玩家看見你<strong>快速縮回手</strong>。' },

            // 類別五：健行與步道 (Hiking & Trail)
            { id: 'HT1', category: '健行與步道', difficulty: '中', content: '讓一位玩家在<strong>對話</strong>中，提到<strong>一個地名</strong>（非你們所在的位置）。' },
            { id: 'HT2', category: '健行與步道', difficulty: '中', content: '讓一個玩家<strong>主動</strong>詢問<strong>「還有多遠？」</strong>或<strong>「還要多久？」</strong>。' },
            { id: 'HT3', category: '健行與步道', difficulty: '高', content: '秘密地在走路時<strong>連續五步</strong>只用<strong>腳跟</strong>或<strong>腳尖</strong>著地，並讓一位玩家看見。' },
            { id: 'HT4', category: '健行與步道', difficulty: '高', content: '成功地<strong>引導</strong>一個玩家在走路時<strong>跨過</strong>一個<strong>不存在</strong>的障礙物。' },
            { id: 'HT5', category: '健行與步道', difficulty: '中', content: '讓一位玩家<strong>主動</strong>給你<strong>指路</strong>，即使你知道正確的路。' },
            { id: 'HT6', category: '健行與步道', difficulty: '中', content: '讓一個玩家在走路時<strong>發出</strong>一個<strong>喘氣</strong>的聲音。' },
            { id: 'HT7', category: '健行與步道', difficulty: '中', content: '秘密地在<strong>不看地圖</strong>的情況下，對一位玩家<strong>描述</strong>下一個景點的<strong>地理特徵</strong>。' },
            { id: 'HT8', category: '健行與步道', difficulty: '中', content: '讓一個玩家<strong>主動</strong>跟你<strong>抱怨</strong>他<strong>腳上的鞋子</strong>。' },
            { id: 'HT9', category: '健行與步道', difficulty: '中', content: '讓一位玩家在<strong>對話</strong>中，提到<strong>任何一個</strong>交通工具。（例如：汽車、飛機、火車）。' },
            { id: 'HT10', category: '健行與步道', difficulty: '中', content: '在<strong>5 分鐘</strong>內，<strong>兩次</strong>提到你<strong>下次</strong>想去爬的<strong>山</strong>或<strong>步道</strong>。' },
            { id: 'HT11', category: '健行與步道', difficulty: '中', content: '讓一位玩家<strong>主動</strong>說出<strong>「我累了」</strong>，但你必須<strong>假裝沒聽到</strong>。' },
            { id: 'HT12', category: '健行與步道', difficulty: '高', content: '秘密地<strong>原地不動</strong>超過 <strong>30 秒</strong>，並讓一位玩家<strong>靠近</strong>你詢問原因。' },
            { id: 'HT13', category: '健行與步道', difficulty: '中', content: '讓一個玩家<strong>主動</strong>提到<strong>一個與「時間」有關的數字</strong>（例如：幾點、幾小時、幾分鐘）。' },
            { id: 'HT14', category: '健行與步道', difficulty: '中', content: '讓一位玩家<strong>主動</strong>提醒你<strong>「小心」</strong>或<strong>「注意」</strong>。' },
            { id: 'HT15', category: '健行與步道', difficulty: '中', content: '成功地讓一位玩家相信你<strong>昨天</strong>晚上<strong>沒有睡好</strong>。' },

            // 類別六：溝通與互動 (Communication)
            { id: 'C1', category: '溝通與互動', difficulty: '高', content: '在<strong>任何對話</strong>中，<strong>秘密地</strong>用<strong>誇張的動作</strong>來代替<strong>一個形容詞</strong>，且無人察覺。（例如：用張大嘴巴代替「驚訝」）。' },
            { id: 'C2', category: '溝通與互動', difficulty: '中', content: '讓一位玩家對你<strong>說</strong>或<strong>寫</strong>出<strong>一個與「愛」有關</strong>的詞彙。（例如：愛、喜歡、心動）。' },
            { id: 'C3', category: '溝通與互動', difficulty: '中', content: '讓一位玩家<strong>主動</strong>詢問你<strong>「你幾歲？」</strong>或<strong>「你的生日是哪一天？」</strong>。' },
            { id: 'C4', category: '溝通與互動', difficulty: '高', content: '秘密地在<strong>每次開口說話</strong>前，<strong>先深呼吸</strong>一次，持續 <strong>5 分鐘</strong>，且無人詢問。' },
            { id: 'C5', category: '溝通與互動', difficulty: '中', content: '讓一位玩家<strong>模仿</strong>你的<strong>一個小動作</strong>（例如：摸頭髮、清喉嚨、眨眼）。' },
            { id: 'C6', category: '溝通與互動', difficulty: '中', content: '讓一個玩家<strong>主動</strong>詢問你的<strong>工作</strong>或<strong>職業</strong>。' },
            { id: 'C7', category: '溝通與互動', difficulty: '中', content: '在<strong>不提及「夢」</strong>這個詞的情況下，讓一位玩家<strong>描述</strong>他<strong>昨晚的夢</strong>。' },
            { id: 'C8', category: '溝通與互動', difficulty: '高', content: '成功地讓一位玩家<strong>大笑</strong>一聲，且<strong>不是</strong>因為你講了笑話。' },
            { id: 'C9', category: '溝通與互動', difficulty: '中', content: '讓一位玩家<strong>主動</strong>向你<strong>借手機</strong>或<strong>詢問你的手機電量</strong>。' },
            { id: 'C10', category: '溝通與互動', difficulty: '中', content: '讓一個玩家<strong>在對話中</strong>提到<strong>任何一種</strong>你<strong>不喜歡</strong>的<strong>運動</strong>。' },
            { id: 'C11', category: '溝通與互動', difficulty: '中', content: '在對話中<strong>重複</strong>使用<strong>「其實」</strong>這個詞<strong>三次</strong>，且無人察覺。' },
            { id: 'C12', category: '溝通與互動', difficulty: '中', content: '讓一位玩家<strong>主動</strong>向你<strong>請教</strong>一個<strong>露營/登山的技巧</strong>。' },
            { id: 'C13', category: '溝通與互動', difficulty: '高', content: '秘密地在對話中<strong>錯叫</strong>一個玩家的<strong>名字</strong>或<strong>綽號</strong>兩次，並<strong>立即糾正</strong>。' },
            { id: 'C14', category: '溝通與互動', difficulty: '中', content: '讓一個玩家<strong>主動</strong>對你<strong>說</strong>一句<strong>負面的話</strong>。（例如：好熱、好冷、好麻煩、好無聊）。' },
            { id: 'C15', category: '溝通與互動', difficulty: '高', content: '秘密地<strong>保持沉默</strong> <strong>2 分鐘</strong>，並讓一位玩家<strong>主動</strong>詢問你<strong>「怎麼了？」</strong>。' },

            // 類別七：科技與媒體 (Tech & Media)
            { id: 'TM1', category: '科技與媒體', difficulty: '中', content: '讓一位玩家<strong>主動</strong>提到<strong>任何一個</strong>社群媒體平台。（例如：IG、FB、Youtube、TikTok）。' },
            { id: 'TM2', category: '科技與媒體', difficulty: '中', content: '讓一位玩家<strong>主動</strong>詢問<strong>「訊號好嗎？」</strong>或<strong>「有網路嗎？」</strong>。' },
            { id: 'TM3', category: '科技與媒體', difficulty: '中', content: '秘密地在<strong>不看手機</strong>的情況下，對一位玩家<strong>描述</strong>一部<strong>你看過的電影</strong>。' },
            { id: 'TM4', category: '科技與媒體', difficulty: '中', content: '成功地<strong>說服</strong>一個玩家，你的<strong>手機</strong>已經<strong>沒電</strong>了。' },
            { id: 'TM5', category: '科技與媒體', difficulty: '中', content: '讓一位玩家在<strong>對話</strong>中，提到<strong>任何一個</strong>「<strong>品牌名稱</strong>」（非裝備品牌）。' },
            { id: 'TM6', category: '科技與媒體', difficulty: '高', content: '秘密地<strong>假裝</strong>你的<strong>手機響了</strong>，並讓至少一個玩家<strong>看著</strong>你的手機。' },
            { id: 'TM7', category: '科技與媒體', difficulty: '中', content: '讓一位玩家<strong>主動</strong>要求你<strong>播放</strong>某首<strong>音樂</strong>或<strong>歌曲</strong>。' },
            { id: 'TM8', category: '科技與媒體', difficulty: '中', content: '成功地讓一位玩家<strong>拿出</strong>他的<strong>手機</strong>，且<strong>不是</strong>為了拍照。' },
            { id: 'TM9', category: '科技與媒體', difficulty: '高', content: '秘密地<strong>在手上</strong>畫一個<strong>簡單的符號</strong>（例如：一個圓圈或三角形），並讓一個玩家<strong>詢問</strong>你那是什麼。' },
            { id: 'TM10', category: '科技與媒體', difficulty: '中', content: '讓一位玩家<strong>主動</strong>提到<strong>任何一個</strong>你<strong>不認識</strong>的名人或網紅。' },
            { id: 'TM11', category: '科技與媒體', difficulty: '中', content: '讓一個玩家<strong>主動</strong>提及<strong>「耳機」</strong>或<strong>「藍牙」</strong>。' },
            { id: 'TM12', category: '科技與媒體', difficulty: '中', content: '秘密地在對話中，<strong>兩次</strong>提及你<strong>最近</strong>在追的一部<strong>電視劇</strong>或<strong>動畫</strong>。' },
            { id: 'TM13', category: '科技與媒體', difficulty: '中', content: '讓一位玩家<strong>主動</strong>向你<strong>展示</strong>他<strong>手機裡的一張照片</strong>。' },
            { id: 'TM14', category: '科技與媒體', difficulty: '中', content: '成功地讓一位玩家<strong>抱怨</strong>他的<strong>手機記憶體</strong>不夠用。' },
            { id: 'TM15', category: '科技與媒體', difficulty: '中', content: '讓一個玩家<strong>主動</strong>詢問你<strong>「你帶了行動電源嗎？」</strong>。' },

            // 類別八：隨機與挑戰 (Random & Challenge)
            { id: 'RC1', category: '隨機與挑戰', difficulty: '高', content: '秘密地在<strong>走路時</strong>突然<strong>改變步伐</strong>（例如：從快走變慢走、從大步變小步）持續 <strong>30 秒</strong>，並讓一個玩家<strong>模仿</strong>你。' },
            { id: 'RC2', category: '隨機與挑戰', difficulty: '中', content: '讓一位玩家<strong>主動</strong>給你一個<strong>實體</strong>的<strong>擁抱</strong>、<strong>擊掌</strong>或<strong>肢體接觸</strong>。' },
            { id: 'RC3', category: '隨機與挑戰', difficulty: '中', content: '讓一位玩家<strong>主動</strong>向你<strong>借</strong>或<strong>索取</strong>一個<strong>非食物</strong>的物品。' },
            { id: 'RC4', category: '隨機與挑戰', difficulty: '高', content: '秘密地<strong>假裝</strong>你<strong>聽不懂</strong>一個玩家說的話，並讓他<strong>重複</strong>說一次。' },
            { id: 'RC5', category: '隨機與挑戰', difficulty: '中', content: '讓一位玩家<strong>主動</strong>問你<strong>「你餓了嗎？」</strong>。' },
            { id: 'RC6', category: '隨機與挑戰', difficulty: '中', content: '讓一位玩家<strong>主動</strong>對你<strong>發出</strong>一個<strong>疑問句</strong>，且這個問題<strong>必須</strong>與<strong>未來</strong>有關。（例如：明天會下雨嗎？下次什麼時候去爬山？）。' },
            { id: 'RC7', category: '隨機與挑戰', difficulty: '中', content: '在<strong>5 分鐘</strong>內，對<strong>三個不同</strong>的玩家<strong>說</strong>出<strong>不同</strong>的<strong>「冷笑話」</strong>。' },
            { id: 'RC8', category: '隨機與挑戰', difficulty: '中', content: '讓一位玩家<strong>主動</strong>詢問你<strong>「你幫我帶了嗎？」</strong>，即使你不知道他在說什麼。' },
            { id: 'RC9', category: '隨機與挑戰', difficulty: '高', content: '秘密地在<strong>不使用「你」</strong>的情況下，讓一個玩家<strong>執行</strong>一個<strong>簡單的指令</strong>。（例如：說「請幫忙把那個水壺遞過來」）。' },
            { id: 'RC10', category: '隨機與挑戰', difficulty: '中', content: '讓一位玩家在<strong>對話</strong>中，提到<strong>任何一個</strong>與<strong>「錢」</strong>有關的詞彙。（例如：預算、費用、價格、信用卡）。' },
            { id: 'RC11', category: '隨機與挑戰', difficulty: '高', content: '成功地讓一位玩家相信你<strong>身上帶著</strong>一個<strong>不應該出現在露營地</strong>的物品。（例如：領帶、高跟鞋、撲克牌）。' },
            { id: 'RC12', category: '隨機與挑戰', difficulty: '中', content: '讓一個玩家<strong>主動</strong>說出一個<strong>三個字</strong>的<strong>疊字詞</strong>。（例如：毛茸茸、熱騰騰、亮晶晶）。' },
            { id: 'RC13', category: '隨機與挑戰', difficulty: '高', content: '秘密地<strong>假裝</strong>你<strong>在找東西</strong>，並讓一個玩家<strong>主動</strong>詢問你<strong>「你在找什麼？」</strong>。' },
            { id: 'RC14', category: '隨機與挑戰', difficulty: '高', content: '在<strong>不提及</strong>「任務」或「遊戲」的情況下，讓一位玩家<strong>主動</strong>說出<strong>「我被抓包了」</strong>。' },
            { id: 'RC15', category: '隨機與挑戰', difficulty: '中', content: '讓一位玩家<strong>主動</strong>要求你<strong>分享</strong>他的<strong>一個個人資訊</strong>（例如：他的電話號碼、他的星座、他的身高）。' },
            
            // 類別九：互動與趣味性 (Interactive & Fun) (I1-I15)
            { id: 'I1', category: '互動與趣味性', difficulty: '中', content: '<strong>外語教師：</strong> 成功地<strong>教導</strong>一位玩家<strong>一個你自創的「外語單字」</strong>，並讓他在 10 分鐘內<strong>使用該單字一次</strong>。' },
            { id: 'I2', category: '互動與趣味性', difficulty: '高', content: '<strong>山林相聲：</strong> 在<strong>不提及</strong>「表演」或「笑話」的情況下，秘密地與一位玩家完成<strong>連續三次</strong>的<strong>對稱回答</strong>。（例如：A：「我們去哪？」B：「我們去那！」A：「走哪邊？」B：「走這邊！」）' },
            { id: 'I3', category: '互動與趣味性', difficulty: '中', content: '<strong>聲音調頻：</strong> 讓一位玩家在<strong>對話</strong>中，<strong>故意</strong>發出一個<strong>與他平時音調不同</strong>的聲音（例如：突然提高或壓低聲音）。' },
            { id: 'I4', category: '互動與趣味性', difficulty: '高', content: '<strong>記憶大師：</strong> 讓一位玩家<strong>主動</strong>問你<strong>「你剛剛說什麼？」</strong>，但你必須<strong>假裝</strong>你<strong>根本沒說過</strong>那句話。' },
            { id: 'I5', category: '互動與趣味性', difficulty: '中', content: '<strong>口頭禪傳播：</strong> 讓一位玩家在<strong>對話</strong>中，<strong>至少使用一次</strong>你<strong>昨天</strong>說過的<strong>一個特殊詞彙</strong>。（你不能提醒或引導他）。' },
            { id: 'I6', category: '互動與趣味性', difficulty: '高', content: '<strong>隱形裝備：</strong> 在<strong>沒有人</strong>詢問的情況下，秘密地<strong>假裝</strong>將一個<strong>不存在的物品</strong>（例如：一塊大石頭、一個不存在的水壺）遞給一位玩家，並讓對方<strong>配合你的動作</strong>。' },
            { id: 'I7', category: '互動與趣味性', difficulty: '中', content: '<strong>傳染病：</strong> 成功地讓一位玩家<strong>模仿</strong>你的<strong>一個「不經意」的小動作</strong>（例如：打哈欠、摸鼻子、揉眼睛）。' },
            { id: 'I8', category: '互動與趣味性', difficulty: '中', content: '<strong>重心不穩：</strong> 秘密地在<strong>走路或站立</strong>時，<strong>連續 5 分鐘</strong>只將<strong>重心</strong>放在你的<strong>一隻腳</strong>上，且無人詢問或發現你正在做任務。' },
            { id: 'I9', category: '互動與趣味性', difficulty: '高', content: '<strong>秘密握手：</strong> 在<strong>沒有人察覺</strong>的情況下，用<strong>特殊的方式</strong>與一位玩家<strong>握手</strong>或<strong>擊掌</strong>。（例如：用左手、握住手腕而不是手掌）。' },
            { id: 'I10', category: '互動與趣味性', difficulty: '高', content: '<strong>鏡面效應：</strong> 與一位玩家<strong>同時</strong>完成<strong>一個相同的動作</strong>（例如：同時喝水、同時看向天空、同時整理背包）且無人察覺。' },
            { id: 'I11', category: '互動與趣味性', difficulty: '中', content: '<strong>裝備展示會：</strong> 在<strong>沒有人詢問</strong>的情況下，<strong>公開</strong>向一位玩家展示你<strong>背包裡最不起眼</strong>的一件物品（例如：一個小勾環、一個小夾子），並詳細描述它的<strong>功能</strong>。' },
            { id: 'I12', category: '互動與趣味性', difficulty: '高', content: '<strong>假冒嚮導：</strong> 在<strong>不看地圖</strong>的情況下，成功地說服<strong>至少兩位</strong>玩家相信你<strong>昨天</strong>已經走過這條路，並給予他們一個<strong>假裝的「路況建議」</strong>。' },
            { id: 'I13', category: '互動與趣味性', difficulty: '中', content: '<strong>時間旅行者：</strong> 讓一位玩家<strong>主動</strong>對你<strong>描述</strong>他們<strong>上次</strong>登山露營時發生的<strong>一件趣事</strong>。' },
            { id: 'I14', category: '互動與趣味性', difficulty: '高', content: '<strong>神秘儀式：</strong> 秘密地在<strong>不解釋原因</strong>的情況下，<strong>請求</strong>一位玩家協助你完成一個<strong>毫無意義</strong>的「儀式」<strong>動作</strong>。（例如：要求他用頭燈照亮營地的一個角落 10 秒）。' },
            { id: 'I15', category: '互動與趣味性', difficulty: '中', content: '<strong>未來承諾：</strong> 讓一位玩家<strong>主動</strong>對你<strong>許下</strong>一個關於<strong>下次</strong>露營或旅行的<strong>「小承諾」</strong>。（例如：下次一定帶我去、下次我來準備）。' },
            
            // 為了湊齊 120 項，再重複添加 15 個額外任務 (E1-E15)
            { id: 'E1', category: '隨機與挑戰', difficulty: '中', content: '在不使用「肚子餓」或「口渴」的情況下，讓一位玩家主動提議去吃東西或喝飲料。' },
            { id: 'E2', category: '營地與生活', difficulty: '高', content: '秘密地讓一位玩家在對話中，連續兩次稱讚你<strong>以外</strong>的另一個玩家。' },
            { id: 'E3', category: '裝備與物品', difficulty: '中', content: '讓一個玩家主動問你「這個怎麼用？」，並詢問的物品必須是<strong>你身上穿戴</strong>的。' },
            { id: 'E4', category: '自然與環境', difficulty: '高', content: '成功地讓一位玩家相信你<strong>昨天晚上</strong>聽到了一種<strong>稀有</strong>的鳥叫聲或動物叫聲。' },
            { id: 'E5', category: '健行與步道', difficulty: '中', content: '秘密地在走路時<strong>突然停下來</strong>，假裝在看地圖，並讓一位玩家問你「怎麼了？」。' },
            { id: 'E6', category: '溝通與互動', difficulty: '中', content: '讓一位玩家主動對你說出一個<strong>三個字</strong>的<strong>褒義詞</strong>。（例如：好棒棒、很厲害、超開心）。' },
            { id: 'E7', category: '科技與媒體', difficulty: '中', content: '讓一位玩家在對話中，提到<strong>任何一個</strong>與<strong>「遊戲」</strong>有關的詞彙。（例如：電動、手遊、桌遊）。' },
            { id: 'E8', category: '食物與飲品', difficulty: '高', content: '秘密地在<strong>不使用「湯匙」</strong>的情況下，讓一位玩家用<strong>湯匙</strong>吃一個<strong>原本不需要湯匙</strong>吃的東西。（例如：用湯匙吃餅乾）。' },
            { id: 'E9', category: '隨機與挑戰', difficulty: '中', content: '在<strong>不說「對」</strong>或<strong>「是」</strong>的情況下，讓一位玩家對你的提問表示<strong>贊同</strong>。' },
            { id: 'E10', category: '營地與生活', difficulty: '中', content: '讓一位玩家主動詢問你<strong>「你冷嗎？」</strong>或<strong>「你熱嗎？」</strong>。' },
            { id: 'E11', category: '裝備與物品', difficulty: '高', content: '秘密地將<strong>你的一個小東西</strong>（例如：鑰匙、小燈）放在<strong>別人的口袋</strong>或<strong>包包</strong>上，並讓他們<strong>主動</strong>拿起來給你。' },
            { id: 'E12', category: '自然與環境', difficulty: '中', content: '讓一個玩家<strong>主動</strong>提到<strong>任何一種</strong>與<strong>「顏色」</strong>有關的詞彙。（例如：藍色、綠色、五顏六色）。' },
            { id: 'E13', category: '健行與步道', difficulty: '中', content: '在<strong>對話</strong>中，<strong>兩次</strong>提到你<strong>最喜歡</strong>的<strong>一個城市</strong>。（不能是你們現在所在的地方）。' },
            { id: 'E14', category: '溝通與互動', difficulty: '高', content: '成功地讓一位玩家相信你<strong>最近</strong>正在學習<strong>一種新的技能</strong>（非露營/登山相關）。' },
            { id: 'E15', category: '科技與媒體', difficulty: '中', content: '讓一位玩家<strong>主動</strong>分享他<strong>最愛</strong>的一個<strong>迷因</strong>或<strong>網路梗</strong>。' },
        ];


        let lastDrawnTask = null; // 用於儲存上一次抽到的任務，避免重複

        const elements = {
            drawButton: document.getElementById('drawButton'),
            taskDisplay: document.getElementById('taskDisplay'),
            initialPrompt: document.getElementById('initialPrompt'),
            taskContent: document.getElementById('taskContent'),
            taskCategory: document.getElementById('taskCategory'),
            taskID: document.getElementById('taskID'),
            taskMission: document.getElementById('taskMission'),
            taskDifficulty: document.getElementById('taskDifficulty')
        };

        const difficultyStyles = {
            '中': 'bg-blue-100 text-blue-800',
            '高': 'bg-red-100 text-red-800',
        };

        // 隨機抽取任務
        function drawTask() {
            if (elements.taskDisplay.classList.contains('drawing')) return;

            elements.drawButton.disabled = true;
            elements.taskDisplay.classList.add('drawing');

            // 隨機抽籤邏輯
            let selectedTask;
            let attempts = 0;
            do {
                const randomIndex = Math.floor(Math.random() * tasks.length);
                selectedTask = tasks[randomIndex];
                attempts++;
            } while (selectedTask === lastDrawnTask && attempts < 5); // 嘗試避免連續兩次重複

            lastDrawnTask = selectedTask;

            // 模擬抽籤動畫 (閃爍幾次)
            let drawCount = 0;
            const maxDraws = 5;
            const interval = setInterval(() => {
                const tempIndex = Math.floor(Math.random() * tasks.length);
                elements.taskID.textContent = tasks[tempIndex].id;
                // 只顯示任務內容，但不顯示任務 ID
                elements.taskMission.innerHTML = tasks[tempIndex].content;
                elements.taskCategory.textContent = tasks[tempIndex].category;

                drawCount++;
                if (drawCount >= maxDraws) {
                    clearInterval(interval);
                    showFinalTask(selectedTask);
                }
            }, 100);

            // 首次抽籤隱藏提示
            elements.initialPrompt.classList.add('hidden');
            elements.taskContent.classList.remove('hidden');
        }

        // 顯示最終抽到的任務
        function showFinalTask(task) {
            // 移除動畫
            elements.taskDisplay.classList.remove('drawing');

            // 更新內容
            elements.taskCategory.textContent = task.category;
            
            // 嘗試提取任務名稱 (如果內容包含「：」則取前面部分作為標題，否則使用類別名稱)
            const titleMatch = task.content.match(/^([^：]+)：/);
            if (titleMatch) {
                elements.taskID.textContent = titleMatch[1].replace(/<\/?strong>/g, ''); // 移除粗體標記
            } else {
                elements.taskID.textContent = task.id + " 任務";
            }
            
            elements.taskMission.innerHTML = task.content;

            // 更新難度標籤
            const style = difficultyStyles[task.difficulty] || 'bg-gray-100 text-gray-800';
            elements.taskDifficulty.className = `font-medium px-3 py-1 rounded-full ${style}`;
            elements.taskDifficulty.textContent = `難度：${task.difficulty}`;

            // 重新啟用按鈕
            elements.drawButton.disabled = false;
        }

        // 事件監聽器
        window.onload = function() {
            elements.drawButton.addEventListener('click', drawTask);
        };

    </script>
</body>
</html>
