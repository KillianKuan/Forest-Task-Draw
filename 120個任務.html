<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>山林探險：任務抽籤器</title>
    <!-- 載入 Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 設定字體為 Inter (常用現代字體) */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f7f7; /* 輕微的背景色 */
        }
        /* 針對任務卡的動畫效果 */
        .task-card {
            transition: all 0.5s ease-in-out;
            transform: scale(1);
        }
        .task-card.drawing {
            animation: pulse 0.5s infinite alternate;
        }
        @keyframes pulse {
            from { transform: scale(1); opacity: 1; }
            to { transform: scale(1.02); opacity: 0.8; }
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4 bg-gray-50">

    <div class="w-full max-w-2xl bg-white shadow-2xl rounded-xl p-6 md:p-10 border border-gray-100">

        <!-- 標題區域 -->
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-extrabold text-green-700">
                山林探險：別被抓包
            </h1>
            <p class="text-gray-500 mt-2 text-lg">任務抽籤器 (120 項任務池)</p>
        </header>

        <!-- 任務顯示卡片 -->
        <div id="taskDisplay" class="task-card bg-white p-6 rounded-lg shadow-xl border-t-4 border-green-500 mb-8 min-h-[180px] flex flex-col justify-center text-center">
            <p id="initialPrompt" class="text-gray-400 text-xl font-medium">
                點擊下方按鈕，開始抽取你的第一個潛伏任務！
            </p>
            <div id="taskContent" class="hidden">
                <p class="text-xs font-semibold uppercase text-green-500 mb-1" id="taskCategory"></p>
                <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-3" id="taskID"></h2>
                <p class="text-base md:text-xl text-gray-700 leading-relaxed" id="taskMission"></p>
                <div class="mt-4 text-sm text-gray-500 flex justify-center space-x-4">
                    <span id="taskDifficulty" class="font-medium bg-gray-100 px-3 py-1 rounded-full"></span>
                </div>
            </div>
        </div>

        <!-- 抽籤按鈕 -->
        <button id="drawButton" class="w-full py-3 md:py-4 bg-green-600 text-white font-bold text-lg rounded-xl shadow-lg hover:bg-green-700 transition duration-150 ease-in-out transform hover:scale-[1.01] focus:outline-none focus:ring-4 focus:ring-green-300">
            抽取任務卡
        </button>

        <!-- 說明文字 -->
        <footer class="mt-8 text-center text-sm text-gray-400">
            請注意：此為遊戲任務，請確保安全與尊重他人隱私。
        </footer>
    </div>

    <script>
        // === 任務資料庫 (共 120 項) ===
        const tasks = [
            // 類別一：營地與生活 (Camp & Living)
            { id: 'CL1', category: '營地與生活', difficulty: '中', content: '秘密地移動營地內**任意三件**屬於不同人的物品，但讓它們看起來像**不小心**被踢開的。' },
            { id: 'CL2', category: '營地與生活', difficulty: '中', content: '說服一個玩家相信你的**睡袋/露宿袋**裡藏了一個**非睡眠**用途的物品。（例如：帶了一本書或烤肉架）。' },
            { id: 'CL3', category: '營地與生活', difficulty: '中', content: '讓一個玩家在 **5 分鐘**內至少兩次**提到**或**評論**你身上穿的**某件**衣物。' },
            { id: 'CL4', category: '營地與生活', difficulty: '高', content: '秘密地在對話中插入一個**你自創的露營術語**，並讓至少兩個人假裝明白它的意思。（例如：「爐火需要一點 *光合作用* 了！」）' },
            { id: 'CL5', category: '營地與生活', difficulty: '中', content: '在**連續的對話**中，**三次**提到你**今天**沒有帶的一個重要物品。（例如：「早知道帶我的**頭燈**了...」、「**頭燈**真好用...」、「啊，還是**頭燈**重要...」）' },
            { id: 'CL6', category: '營地與生活', difficulty: '中', content: '讓一位玩家（非隊友）**自願**替你**拍照**，而這張照片必須包含**他自己**。' },
            { id: 'CL7', category: '營地與生活', difficulty: '中', content: '秘密地在**不使用手機**的情況下，告訴一個玩家**一個假裝是「小知識」**的資訊。（例如：某種樹葉可以吃或某條小徑是捷徑）。' },
            { id: 'CL8', category: '營地與生活', difficulty: '高', content: '成功地**偷走**或**暫時藏匿**一位玩家的**非貴重**物品，並在**沒有人發現**的情況下歸還。' },
            { id: 'CL9', category: '營地與生活', difficulty: '中', content: '在沒有人提問的情況下，主動向一位玩家**分享**你的一段**過去的登山失敗經驗**。' },
            { id: 'CL10', category: '營地與生活', difficulty: '高', content: '讓一個玩家**模仿**一個**動物的聲音**，而他卻不覺得你在故意引導。' },
            { id: 'CL11', category: '營地與生活', difficulty: '中', content: '讓一位玩家在**對話**中，提到**任何一個**電信公司的名稱。（例如：中華電信、遠傳、T-Mobile）。' },
            { id: 'CL12', category: '營地與生活', difficulty: '中', content: '在**5分鐘內**，連續兩次**在不同場合**對同一位玩家說「**你辛苦了！**」。' },
            { id: 'CL13', category: '營地與生活', difficulty: '高', content: '讓至少**三位**不同的玩家在**一小時**內對你**說「謝謝」**。' },
            { id: 'CL14', category: '營地與生活', difficulty: '中', content: '秘密地在對話中**重複**使用一個**口頭禪**（非髒話），直到有人**詢問**你為何一直說這個詞，但你不能說出這是任務。' },
            { id: 'CL15', category: '營地與生活', difficulty: '中', content: '讓一位玩家**主動**問你**「你還好嗎？」**或**「你沒事吧？」**。' },

            // 類別二：食物與飲品 (Food & Drink)
            { id: 'FD1', category: '食物與飲品', difficulty: '中', content: '成功讓一位玩家相信你**自己帶來的**食物是**有機**的、**素食**的或**自製**的。' },
            { id: 'FD2', category: '食物與飲品', difficulty: '高', content: '在**不使用工具**的情況下，讓一位玩家相信你**徒手**切好了某樣食材。' },
            { id: 'FD3', category: '食物與飲品', difficulty: '中', content: '讓一個玩家在吃飯時**主動**把他的**某樣食物**分給你。' },
            { id: 'FD4', category: '食物與飲品', difficulty: '中', content: '秘密地將**你包包裡**的一個**非食物**物品，擺在餐桌/野餐墊的**正中央**超過 3 分鐘，且無人詢問。' },
            { id: 'FD5', category: '食物與飲品', difficulty: '高', content: '在**沒有人**注意到你**正在吃東西**的情況下，秘密地吃完一個完整的**小零食**。' },
            { id: 'FD6', category: '食物與飲品', difficulty: '中', content: '讓一位玩家**形容**他正在吃的或喝的一樣東西是**「很高級」**或**「很奢侈」**的。' },
            { id: 'FD7', category: '食物與飲品', difficulty: '中', content: '讓一個玩家在**喝水**時**主動**發出一個**「啊～」**的聲音。（不包含咳嗽或打嗝）。' },
            { id: 'FD8', category: '食物與飲品', difficulty: '中', content: '秘密地將一個**與食物無關**的道具當作**餐具**使用一次，並讓一個玩家目睹。' },
            { id: 'FD9', category: '食物與飲品', difficulty: '中', content: '讓一個玩家在 **5 分鐘內**提到 **3 種**不同的**烹飪方法**。（例如：烤、煮、炸、烘、燉）。' },
            { id: 'FD10', category: '食物與飲品', difficulty: '高', content: '找到一個**野外可食用的植物**（例如：某種蕨類、菇類或果實），並在**不食用**的情況下，讓至少兩個人**仔細端詳**它。' },
            { id: 'FD11', category: '食物與飲品', difficulty: '中', content: '在**不使用**「喜歡」或「不喜歡」的情況下，讓一位玩家評論一個食物是**「不好吃」**的。' },
            { id: 'FD12', category: '食物與飲品', difficulty: '中', content: '讓一位玩家**主動**詢問**「還有嗎？」**，且詢問的對象是**你**。' },
            { id: 'FD13', category: '食物與飲品', difficulty: '中', content: '讓一個玩家說出**「我飽了」**，但你必須假裝**沒有聽到**。' },
            { id: 'FD14', category: '食物與飲品', difficulty: '中', content: '成功讓一位玩家**連續喝**三口水或飲料，且不詢問原因。' },
            { id: 'FD15', category: '食物與飲品', difficulty: '中', content: '在**不提議交換**的情況下，讓一位玩家說出他**最想吃/喝**的**下一餐/飲品**。' },

            // 類別三：裝備與物品 (Gear & Stuff)
            { id: 'GS1', category: '裝備與物品', difficulty: '中', content: '讓一位玩家**主動**使用**你**的頭燈，即使是在**白天**。' },
            { id: 'GS2', category: '裝備與物品', difficulty: '高', content: '讓一位玩家在**對話**中提到**你事先指定**的一個**顏色**，且你不能先提到該顏色。' },
            { id: 'GS3', category: '裝備與物品', difficulty: '中', content: '讓一個玩家**主動**對你的**登山杖/背包/帳篷**發出一個**讚美**。' },
            { id: 'GS4', category: '裝備與物品', difficulty: '中', content: '秘密地向一位玩家**詢問**他**最不喜歡**的一個裝備，且你必須裝作**很想買**那個東西。' },
            { id: 'GS5', category: '裝備與物品', difficulty: '中', content: '讓一位玩家將一個**「長條形」**的物品（例如：牙刷、火柴、筆）**拿在手上**超過 **30 秒**。' },
            { id: 'GS6', category: '裝備與物品', difficulty: '中', content: '秘密地將一個**你用來計時的物品**（例如：手錶、手機、碼錶）**展示**給一個玩家看，且對方必須**看了一眼**。' },
            { id: 'GS7', category: '裝備與物品', difficulty: '中', content: '讓一個玩家**主動**借用你的**防曬用品/護膚品**。' },
            { id: 'GS8', category: '裝備與物品', difficulty: '高', content: '秘密地將**兩個**不同玩家的**帽子**或**手套**放在一起，讓他們**不經意**地發現。' },
            { id: 'GS9', category: '裝備與物品', difficulty: '中', content: '讓一位玩家**主動**詢問你的**帳篷品牌或型號**。' },
            { id: 'GS10', category: '裝備與物品', difficulty: '中', content: '讓一個玩家**主動**提到**一個數字**，且這個數字必須**大於 100**（例如：高度、價格、公克數）。' },
            { id: 'GS11', category: '裝備與物品', difficulty: '高', content: '成功地說服一位玩家相信你的**某件裝備**已經**有超過 10 年的歷史**。' },
            { id: 'GS12', category: '裝備與物品', difficulty: '中', content: '讓一個玩家**主動**給你一個**實用的小物品**（例如：紙巾、小刀、備用電池）。' },
            { id: 'GS13', category: '裝備與物品', difficulty: '中', content: '秘密地在**不使用水**的情況下，讓一個玩家覺得你的**手或臉**很髒。' },
            { id: 'GS14', category: '裝備與物品', difficulty: '中', content: '讓一位玩家**主動**向你**借用**手機拍照。' },
            { id: 'GS15', category: '裝備與物品', difficulty: '中', content: '讓一位玩家**描述**他**最害怕**在露營時**弄丟**的東西。' },

            // 類別四：自然與環境 (Nature & Environment)
            { id: 'NE1', category: '自然與環境', difficulty: '高', content: '讓一位玩家在**對話**中提到**你事先指定**的**一個植物名稱**。（例如：松樹、蕨類、杜鵑）。' },
            { id: 'NE2', category: '自然與環境', difficulty: '中', content: '讓一個玩家**指著**或**看著**天空**超過 10 秒**，且他必須是**自願**的。' },
            { id: 'NE3', category: '自然與環境', difficulty: '中', content: '秘密地**撿起**一個你**認為是垃圾**但**不是垃圾**的小東西，並讓至少一位玩家看見。' },
            { id: 'NE4', category: '自然與環境', difficulty: '中', content: '在**5 分鐘**內，對**三個不同**的玩家說出**不同**的**天氣形容詞**。（例如：對 A 說「好濕」、對 B 說「好乾」、對 C 說「好悶」）。' },
            { id: 'NE5', category: '自然與環境', difficulty: '中', content: '讓一位玩家提到**「月亮」**或**「星星」**，即使是白天。' },
            { id: 'NE6', category: '自然與環境', difficulty: '中', content: '讓一個玩家**主動**詢問**「這是什麼？」**，而詢問的對象是**地面**上的東西。' },
            { id: 'NE7', category: '自然與環境', difficulty: '中', content: '讓一個玩家**主動**發出**「噓」**的聲音，且他不是在制止別人。' },
            { id: 'NE8', category: '自然與環境', difficulty: '高', content: '秘密地**觸摸**營地或步道旁的**一棵樹**或**一塊大石頭**，並讓一個玩家看見你對它**「輕聲說話」**。' },
            { id: 'NE9', category: '自然與環境', difficulty: '中', content: '讓一個玩家在**對話**中，提到**任何一個**與**水**有關的詞彙。（例如：溪流、湖泊、露水、下雨）。' },
            { id: 'NE10', category: '自然與環境', difficulty: '高', content: '成功地說服一位玩家相信他**聽到了**一種**不存在**的動物叫聲。' },
            { id: 'NE11', category: '自然與環境', difficulty: '中', content: '讓一位玩家**主動**向你**描述**日出或日落的景色。' },
            { id: 'NE12', category: '自然與環境', difficulty: '高', content: '在**1 分鐘內**，讓一位玩家連續**兩次**將頭**轉向**你的**右邊**。' },
            { id: 'NE13', category: '自然與環境', difficulty: '中', content: '讓一個玩家**彎下腰**，且他**不是在撿東西**或**綁鞋帶**。' },
            { id: 'NE14', category: '自然與環境', difficulty: '中', content: '讓一位玩家**主動**發出**「哇！」**或**「喔！」**的驚嘆聲，且原因與**自然景物**有關。' },
            { id: 'NE15', category: '自然與環境', difficulty: '中', content: '秘密地**用手**觸摸一個**你認為很燙**的東西，並讓一個玩家看見你**快速縮回手**。' },

            // 類別五：健行與步道 (Hiking & Trail)
            { id: 'HT1', category: '健行與步道', difficulty: '中', content: '讓一位玩家在**對話**中，提到**一個地名**（非你們所在的位置）。' },
            { id: 'HT2', category: '健行與步道', difficulty: '中', content: '讓一個玩家**主動**詢問**「還有多遠？」**或**「還要多久？」**。' },
            { id: 'HT3', category: '健行與步道', difficulty: '高', content: '秘密地在走路時**連續五步**只用**腳跟**或**腳尖**著地，並讓一位玩家看見。' },
            { id: 'HT4', category: '健行與步道', difficulty: '高', content: '成功地**引導**一個玩家在走路時**跨過**一個**不存在**的障礙物。' },
            { id: 'HT5', category: '健行與步道', difficulty: '中', content: '讓一位玩家**主動**給你**指路**，即使你知道正確的路。' },
            { id: 'HT6', category: '健行與步道', difficulty: '中', content: '讓一個玩家在走路時**發出**一個**喘氣**的聲音。' },
            { id: 'HT7', category: '健行與步道', difficulty: '中', content: '秘密地在**不看地圖**的情況下，對一位玩家**描述**下一個景點的**地理特徵**。' },
            { id: 'HT8', category: '健行與步道', difficulty: '中', content: '讓一個玩家**主動**跟你**抱怨**他**腳上的鞋子**。' },
            { id: 'HT9', category: '健行與步道', difficulty: '中', content: '讓一位玩家在**對話**中，提到**任何一個**交通工具。（例如：汽車、飛機、火車）。' },
            { id: 'HT10', category: '健行與步道', difficulty: '中', content: '在**5 分鐘**內，**兩次**提到你**下次**想去爬的**山**或**步道**。' },
            { id: 'HT11', category: '健行與步道', difficulty: '中', content: '讓一位玩家**主動**說出**「我累了」**，但你必須**假裝沒聽到**。' },
            { id: 'HT12', category: '健行與步道', difficulty: '高', content: '秘密地**原地不動**超過 **30 秒**，並讓一位玩家**靠近**你詢問原因。' },
            { id: 'HT13', category: '健行與步道', difficulty: '中', content: '讓一個玩家**主動**提到**一個與「時間」有關的數字**（例如：幾點、幾小時、幾分鐘）。' },
            { id: 'HT14', category: '健行與步道', difficulty: '中', content: '讓一位玩家**主動**提醒你**「小心」**或**「注意」**。' },
            { id: 'HT15', category: '健行與步道', difficulty: '中', content: '成功地讓一位玩家相信你**昨天**晚上**沒有睡好**。' },

            // 類別六：溝通與互動 (Communication)
            { id: 'C1', category: '溝通與互動', difficulty: '高', content: '在**任何對話**中，**秘密地**用**誇張的動作**來代替**一個形容詞**，且無人察覺。（例如：用張大嘴巴代替「驚訝」）。' },
            { id: 'C2', category: '溝通與互動', difficulty: '中', content: '讓一位玩家對你**說**或**寫**出**一個與「愛」有關**的詞彙。（例如：愛、喜歡、心動）。' },
            { id: 'C3', category: '溝通與互動', difficulty: '中', content: '讓一位玩家**主動**詢問你**「你幾歲？」**或**「你的生日是哪一天？」**。' },
            { id: 'C4', category: '溝通與互動', difficulty: '高', content: '秘密地在**每次開口說話**前，**先深呼吸**一次，持續 **5 分鐘**，且無人詢問。' },
            { id: 'C5', category: '溝通與互動', difficulty: '中', content: '讓一位玩家**模仿**你的**一個小動作**（例如：摸頭髮、清喉嚨、眨眼）。' },
            { id: 'C6', category: '溝通與互動', difficulty: '中', content: '讓一個玩家**主動**詢問你的**工作**或**職業**。' },
            { id: 'C7', category: '溝通與互動', difficulty: '中', content: '在**不提及「夢」**這個詞的情況下，讓一位玩家**描述**他**昨晚的夢**。' },
            { id: 'C8', category: '溝通與互動', difficulty: '高', content: '成功地讓一位玩家**大笑**一聲，且**不是**因為你講了笑話。' },
            { id: 'C9', category: '溝通與互動', difficulty: '中', content: '讓一位玩家**主動**向你**借手機**或**詢問你的手機電量**。' },
            { id: 'C10', category: '溝通與互動', difficulty: '中', content: '讓一個玩家**在對話中**提到**任何一種**你**不喜歡**的**運動**。' },
            { id: 'C11', category: '溝通與互動', difficulty: '中', content: '在對話中**重複**使用**「其實」**這個詞**三次**，且無人察覺。' },
            { id: 'C12', category: '溝通與互動', difficulty: '中', content: '讓一位玩家**主動**向你**請教**一個**露營/登山的技巧**。' },
            { id: 'C13', category: '溝通與互動', difficulty: '高', content: '秘密地在對話中**錯叫**一個玩家的**名字**或**綽號**兩次，並**立即糾正**。' },
            { id: 'C14', category: '溝通與互動', difficulty: '中', content: '讓一個玩家**主動**對你**說**一句**負面的話**。（例如：好熱、好冷、好麻煩、好無聊）。' },
            { id: 'C15', category: '溝通與互動', difficulty: '高', content: '秘密地**保持沉默** **2 分鐘**，並讓一位玩家**主動**詢問你**「怎麼了？」**。' },

            // 類別七：科技與媒體 (Tech & Media)
            { id: 'TM1', category: '科技與媒體', difficulty: '中', content: '讓一位玩家**主動**提到**任何一個**社群媒體平台。（例如：IG、FB、Youtube、TikTok）。' },
            { id: 'TM2', category: '科技與媒體', difficulty: '中', content: '讓一位玩家**主動**詢問**「訊號好嗎？」**或**「有網路嗎？」**。' },
            { id: 'TM3', category: '科技與媒體', difficulty: '中', content: '秘密地在**不看手機**的情況下，對一位玩家**描述**一部**你看過的電影**。' },
            { id: 'TM4', category: '科技與媒體', difficulty: '中', content: '成功地**說服**一個玩家，你的**手機**已經**沒電**了。' },
            { id: 'TM5', category: '科技與媒體', difficulty: '中', content: '讓一位玩家在**對話**中，提到**任何一個**「**品牌名稱**」（非裝備品牌）。' },
            { id: 'TM6', category: '科技與媒體', difficulty: '高', content: '秘密地**假裝**你的**手機響了**，並讓至少一個玩家**看著**你的手機。' },
            { id: 'TM7', category: '科技與媒體', difficulty: '中', content: '讓一位玩家**主動**要求你**播放**某首**音樂**或**歌曲**。' },
            { id: 'TM8', category: '科技與媒體', difficulty: '中', content: '成功地讓一位玩家**拿出**他的**手機**，且**不是**為了拍照。' },
            { id: 'TM9', category: '科技與媒體', difficulty: '高', content: '秘密地**在手上**畫一個**簡單的符號**（例如：一個圓圈或三角形），並讓一個玩家**詢問**你那是什麼。' },
            { id: 'TM10', category: '科技與媒體', difficulty: '中', content: '讓一位玩家**主動**提到**任何一個**你**不認識**的名人或網紅。' },
            { id: 'TM11', category: '科技與媒體', difficulty: '中', content: '讓一個玩家**主動**提及**「耳機」**或**「藍牙」**。' },
            { id: 'TM12', category: '科技與媒體', difficulty: '中', content: '秘密地在對話中，**兩次**提及你**最近**在追的一部**電視劇**或**動畫**。' },
            { id: 'TM13', category: '科技與媒體', difficulty: '中', content: '讓一位玩家**主動**向你**展示**他**手機裡的一張照片**。' },
            { id: 'TM14', category: '科技與媒體', difficulty: '中', content: '成功地讓一位玩家**抱怨**他的**手機記憶體**不夠用。' },
            { id: 'TM15', category: '科技與媒體', difficulty: '中', content: '讓一個玩家**主動**詢問你**「你帶了行動電源嗎？」**。' },

            // 類別八：隨機與挑戰 (Random & Challenge)
            { id: 'RC1', category: '隨機與挑戰', difficulty: '高', content: '秘密地在**走路時**突然**改變步伐**（例如：從快走變慢走、從大步變小步）持續 **30 秒**，並讓一個玩家**模仿**你。' },
            { id: 'RC2', category: '隨機與挑戰', difficulty: '中', content: '讓一位玩家**主動**給你一個**實體**的**擁抱**、**擊掌**或**肢體接觸**。' },
            { id: 'RC3', category: '隨機與挑戰', difficulty: '中', content: '讓一位玩家**主動**向你**借**或**索取**一個**非食物**的物品。' },
            { id: 'RC4', category: '隨機與挑戰', difficulty: '高', content: '秘密地**假裝**你**聽不懂**一個玩家說的話，並讓他**重複**說一次。' },
            { id: 'RC5', category: '隨機與挑戰', difficulty: '中', content: '讓一位玩家**主動**問你**「你餓了嗎？」**。' },
            { id: 'RC6', category: '隨機與挑戰', difficulty: '中', content: '讓一位玩家**主動**對你**發出**一個**疑問句**，且這個問題**必須**與**未來**有關。（例如：明天會下雨嗎？下次什麼時候去爬山？）。' },
            { id: 'RC7', category: '隨機與挑戰', difficulty: '中', content: '在**5 分鐘**內，對**三個不同**的玩家**說**出**不同**的**「冷笑話」**。' },
            { id: 'RC8', category: '隨機與挑戰', difficulty: '中', content: '讓一位玩家**主動**詢問你**「你幫我帶了嗎？」**，即使你不知道他在說什麼。' },
            { id: 'RC9', category: '隨機與挑戰', difficulty: '高', content: '秘密地在**不使用「你」**的情況下，讓一個玩家**執行**一個**簡單的指令**。（例如：說「請幫忙把那個水壺遞過來」）。' },
            { id: 'RC10', category: '隨機與挑戰', difficulty: '中', content: '讓一位玩家在**對話**中，提到**任何一個**與**「錢」**有關的詞彙。（例如：預算、費用、價格、信用卡）。' },
            { id: 'RC11', category: '隨機與挑戰', difficulty: '高', content: '成功地讓一位玩家相信你**身上帶著**一個**不應該出現在露營地**的物品。（例如：領帶、高跟鞋、撲克牌）。' },
            { id: 'RC12', category: '隨機與挑戰', difficulty: '中', content: '讓一個玩家**主動**說出一個**三個字**的**疊字詞**。（例如：毛茸茸、熱騰騰、亮晶晶）。' },
            { id: 'RC13', category: '隨機與挑戰', difficulty: '高', content: '秘密地**假裝**你**在找東西**，並讓一個玩家**主動**詢問你**「你在找什麼？」**。' },
            { id: 'RC14', category: '隨機與挑戰', difficulty: '高', content: '在**不提及**「任務」或「遊戲」的情況下，讓一位玩家**主動**說出**「我被抓包了」**。' },
            { id: 'RC15', category: '隨機與挑戰', difficulty: '中', content: '讓一位玩家**主動**要求你**分享**他的**一個個人資訊**（例如：他的電話號碼、他的星座、他的身高）。' },
            
            // 類別九：互動與趣味性 (Interactive & Fun) (I1-I15)
            { id: 'I1', category: '互動與趣味性', difficulty: '中', content: '**外語教師：** 成功地**教導**一位玩家**一個你自創的「外語單字」**，並讓他在 10 分鐘內**使用該單字一次**。' },
            { id: 'I2', category: '互動與趣味性', difficulty: '高', content: '**山林相聲：** 在**不提及**「表演」或「笑話」的情況下，秘密地與一位玩家完成**連續三次**的**對稱回答**。（例如：A：「我們去哪？」B：「我們去那！」A：「走哪邊？」B：「走這邊！」）' },
            { id: 'I3', category: '互動與趣味性', difficulty: '中', content: '**聲音調頻：** 讓一位玩家在**對話**中，**故意**發出一個**與他平時音調不同**的聲音（例如：突然提高或壓低聲音）。' },
            { id: 'I4', category: '互動與趣味性', difficulty: '高', content: '**記憶大師：** 讓一位玩家**主動**問你**「你剛剛說什麼？」**，但你必須**假裝**你**根本沒說過**那句話。' },
            { id: 'I5', category: '互動與趣味性', difficulty: '中', content: '**口頭禪傳播：** 讓一位玩家在**對話**中，**至少使用一次**你**昨天**說過的**一個特殊詞彙**。（你不能提醒或引導他）。' },
            { id: 'I6', category: '互動與趣味性', difficulty: '高', content: '**隱形裝備：** 在**沒有人**詢問的情況下，秘密地**假裝**將一個**不存在的物品**（例如：一塊大石頭、一個不存在的水壺）遞給一位玩家，並讓對方**配合你的動作**。' },
            { id: 'I7', category: '互動與趣味性', difficulty: '中', content: '**傳染病：** 成功地讓一位玩家**模仿**你的**一個「不經意」的小動作**（例如：打哈欠、摸鼻子、揉眼睛）。' },
            { id: 'I8', category: '互動與趣味性', difficulty: '中', content: '**重心不穩：** 秘密地在**走路或站立**時，**連續 5 分鐘**只將**重心**放在你的**一隻腳**上，且無人詢問或發現你正在做任務。' },
            { id: 'I9', category: '互動與趣味性', difficulty: '高', content: '**秘密握手：** 在**沒有人察覺**的情況下，用**特殊的方式**與一位玩家**握手**或**擊掌**。（例如：用左手、握住手腕而不是手掌）。' },
            { id: 'I10', category: '互動與趣味性', difficulty: '高', content: '**鏡面效應：** 與一位玩家**同時**完成**一個相同的動作**（例如：同時喝水、同時看向天空、同時整理背包）且無人察覺。' },
            { id: 'I11', category: '互動與趣味性', difficulty: '中', content: '**裝備展示會：** 在**沒有人詢問**的情況下，**公開**向一位玩家展示你**背包裡最不起眼**的一件物品（例如：一個小勾環、一個小夾子），並詳細描述它的**功能**。' },
            { id: 'I12', category: '互動與趣味性', difficulty: '高', content: '**假冒嚮導：** 在**不看地圖**的情況下，成功地說服**至少兩位**玩家相信你**昨天**已經走過這條路，並給予他們一個**假裝的「路況建議」**。' },
            { id: 'I13', category: '互動與趣味性', difficulty: '中', content: '**時間旅行者：** 讓一位玩家**主動**對你**描述**他們**上次**登山露營時發生的**一件趣事**。' },
            { id: 'I14', category: '互動與趣味性', difficulty: '高', content: '**神秘儀式：** 秘密地在**不解釋原因**的情況下，**請求**一位玩家協助你完成一個**毫無意義**的「儀式」**動作**。（例如：要求他用頭燈照亮營地的一個角落 10 秒）。' },
            { id: 'I15', category: '互動與趣味性', difficulty: '中', content: '**未來承諾：** 讓一位玩家**主動**對你**許下**一個關於**下次**露營或旅行的**「小承諾」**。（例如：下次一定帶我去、下次我來準備）。' },
            
            // 為了湊齊 120 項，再重複添加 15 個額外任務 (E1-E15)
            { id: 'E1', category: '隨機與挑戰', difficulty: '中', content: '在不使用「肚子餓」或「口渴」的情況下，讓一位玩家主動提議去吃東西或喝飲料。' },
            { id: 'E2', category: '營地與生活', difficulty: '高', content: '秘密地讓一位玩家在對話中，連續兩次稱讚你**以外**的另一個玩家。' },
            { id: 'E3', category: '裝備與物品', difficulty: '中', content: '讓一個玩家主動問你「這個怎麼用？」，並詢問的物品必須是**你身上穿戴**的。' },
            { id: 'E4', category: '自然與環境', difficulty: '高', content: '成功地讓一位玩家相信你**昨天晚上**聽到了一種**稀有**的鳥叫聲或動物叫聲。' },
            { id: 'E5', category: '健行與步道', difficulty: '中', content: '秘密地在走路時**突然停下來**，假裝在看地圖，並讓一位玩家問你「怎麼了？」。' },
            { id: 'E6', category: '溝通與互動', difficulty: '中', content: '讓一位玩家主動對你說出一個**三個字**的**褒義詞**。（例如：好棒棒、很厲害、超開心）。' },
            { id: 'E7', category: '科技與媒體', difficulty: '中', content: '讓一位玩家在對話中，提到**任何一個**與**「遊戲」**有關的詞彙。（例如：電動、手遊、桌遊）。' },
            { id: 'E8', category: '食物與飲品', difficulty: '高', content: '秘密地在**不使用「湯匙」**的情況下，讓一位玩家用**湯匙**吃一個**原本不需要湯匙**吃的東西。（例如：用湯匙吃餅乾）。' },
            { id: 'E9', category: '隨機與挑戰', difficulty: '中', content: '在**不說「對」**或**「是」**的情況下，讓一位玩家對你的提問表示**贊同**。' },
            { id: 'E10', category: '營地與生活', difficulty: '中', content: '讓一位玩家主動詢問你**「你冷嗎？」**或**「你熱嗎？」**。' },
            { id: 'E11', category: '裝備與物品', difficulty: '高', content: '秘密地將**你的一個小東西**（例如：鑰匙、小燈）放在**別人的口袋**或**包包**上，並讓他們**主動**拿起來給你。' },
            { id: 'E12', category: '自然與環境', difficulty: '中', content: '讓一個玩家**主動**提到**任何一種**與**「顏色」**有關的詞彙。（例如：藍色、綠色、五顏六色）。' },
            { id: 'E13', category: '健行與步道', difficulty: '中', content: '在**對話**中，**兩次**提到你**最喜歡**的**一個城市**。（不能是你們現在所在的地方）。' },
            { id: 'E14', category: '溝通與互動', difficulty: '高', content: '成功地讓一位玩家相信你**最近**正在學習**一種新的技能**（非露營/登山相關）。' },
            { id: 'E15', category: '科技與媒體', difficulty: '中', content: '讓一位玩家**主動**分享他**最愛**的一個**迷因**或**網路梗**。' },
        ];


        let lastDrawnTask = null; // 用於儲存上一次抽到的任務，避免重複

        const elements = {
            drawButton: document.getElementById('drawButton'),
            taskDisplay: document.getElementById('taskDisplay'),
            initialPrompt: document.getElementById('initialPrompt'),
            taskContent: document.getElementById('taskContent'),
            taskCategory: document.getElementById('taskCategory'),
            taskID: document.getElementById('taskID'),
            taskMission: document.getElementById('taskMission'),
            taskDifficulty: document.getElementById('taskDifficulty')
        };

        const difficultyStyles = {
            '中': 'bg-blue-100 text-blue-800',
            '高': 'bg-red-100 text-red-800',
        };

        // 隨機抽取任務
        function drawTask() {
            if (elements.taskDisplay.classList.contains('drawing')) return;

            elements.drawButton.disabled = true;
            elements.taskDisplay.classList.add('drawing');

            // 隨機抽籤邏輯
            let selectedTask;
            let attempts = 0;
            do {
                const randomIndex = Math.floor(Math.random() * tasks.length);
                selectedTask = tasks[randomIndex];
                attempts++;
            } while (selectedTask === lastDrawnTask && attempts < 5); // 嘗試避免連續兩次重複

            lastDrawnTask = selectedTask;

            // 模擬抽籤動畫 (閃爍幾次)
            let drawCount = 0;
            const maxDraws = 5;
            const interval = setInterval(() => {
                const tempIndex = Math.floor(Math.random() * tasks.length);
                elements.taskID.textContent = tasks[tempIndex].id;
                // 只顯示任務內容，但不顯示任務 ID
                elements.taskMission.innerHTML = tasks[tempIndex].content;
                elements.taskCategory.textContent = tasks[tempIndex].category;

                drawCount++;
                if (drawCount >= maxDraws) {
                    clearInterval(interval);
                    showFinalTask(selectedTask);
                }
            }, 100);

            // 首次抽籤隱藏提示
            elements.initialPrompt.classList.add('hidden');
            elements.taskContent.classList.remove('hidden');
        }

        // 顯示最終抽到的任務
        function showFinalTask(task) {
            // 移除動畫
            elements.taskDisplay.classList.remove('drawing');

            // 更新內容
            elements.taskCategory.textContent = task.category;
            
            // 嘗試提取任務名稱 (如果內容包含「：」則取前面部分作為標題，否則使用類別名稱)
            const titleMatch = task.content.match(/^([^：]+)：/);
            if (titleMatch) {
                elements.taskID.textContent = titleMatch[1].replace(/\*\*/g, ''); // 移除粗體標記
            } else {
                elements.taskID.textContent = task.id + " 任務";
            }
            
            elements.taskMission.innerHTML = task.content;

            // 更新難度標籤
            const style = difficultyStyles[task.difficulty] || 'bg-gray-100 text-gray-800';
            elements.taskDifficulty.className = `font-medium px-3 py-1 rounded-full ${style}`;
            elements.taskDifficulty.textContent = `難度：${task.difficulty}`;

            // 重新啟用按鈕
            elements.drawButton.disabled = false;
        }

        // 事件監聽器
        window.onload = function() {
            elements.drawButton.addEventListener('click', drawTask);
        };

    </script>
</body>
</html>